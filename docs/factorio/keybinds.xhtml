<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
  <head>
    <title>Factorio Mod Keybinds</title>
    <link rel="stylesheet" href="../styles.css"/>
    <link rel="icon" type="image/x-icon" href="../images/favicon.png"/>
    <script src="keybinds.js"></script>
  </head>
  <body onload="startLoading();">
    <div class="content">

      <p><a href="../index.xhtml">Home</a></p>

      <h1 class="centered">Default Keybinds for all Factorio Mods</h1>
      <p class="centered" id="asOfDate">As of ...</p>

      <br/>

      <p>
        Ugly font? Well it's your browser's default font. Few pages use it these days, but you can
        actually change it in the browser settings.
      </p>

      <p>
        This list is generated by a
        <a href="https://github.com/JanSharp/jansharp.github.io/blob/main/scripts/keybinds_search.lua">syntax aware script</a>
        searching through all mods. It looks for table constructors that take the form of
        <a href="https://lua-api.factorio.com/latest/prototypes/CustomInputPrototype.html">CustomInputPrototype</a>.
        It ignores custom inputs with a <code>linked_game_control</code> set, it then looks at the
        <code>key_sequence</code> and <code>alternate_key_sequence</code> individually where if they
        are present and not an empty string they will be added to the list you see on this page. It
        also extracts the <code>consuming</code> field for the fun of it. It does the same for
        <code>controller_key_sequence</code> and <code>controller_alternate_key_sequence</code>.
      </p>

      <p>
        When thinking about default key sequences for controllers make sure to read
        <a href="https://forums.factorio.com/106661">this guide about controllers</a> before adding
        them to your mod. Especially the note about when to even add key sequences for controllers,
        since there's so few buttons available.
      </p>

      <p>
        The script also searches for assignments to any of the 4 key sequence fields, in which case
        it does not know the prototype name nor its consuming type.
      </p>

      <p>
        This page is not updated automatically, it'll be updated whenever I run the script for it
        manually. See the "As of" date at the top of the page.
      </p>

      <p>
        This exists to potentially help mod creators choose which key sequence to use in their mods.
        So basically don't abuse it, keep in mind that mod authors did not explicitly op-in to this
        page existing.
      </p>

      <br/>

      <table>
        <thead>
          <tr>
            <th
              title="The amount of prototypes using the same key sequence. Prototypes with the same name and consuming value are deduplicated."
              class="sortButton"
              id="uniqueCountHeader"
              onclick="toggleUniqueCountSort();"
            >
              Count
            </th>
            <th class="sortButton" id="isControllerHeader" onclick="toggleIsControllerSort();">Controller</th>
            <th class="sortButton" id="keySequenceHeader" onclick="toggleKeySequenceSort();">Key Sequence</th>
            <th class="sortButton" id="prototypeHeader" onclick="togglePrototypeSort();">Prototype</th>
            <th class="sortButton" id="modHeader" onclick="toggleModSort();">Mod</th>
            <th class="sortButton" id="consumingHeader" onclick="toggleConsumingSort();">Consuming</th>
          </tr>
        </thead>
        <tbody id="tableBody" class="thinRows"></tbody>
      </table>

      <p id="loading"><i>
        Loading... The above list and the date are populated by script using a json data file.
        If you can actually read this text then something very, very most likely went wrong.
        Try again maybe once or twice. Press F12 and check the console if there's no error message
        below.
      </i></p>

      <p id="errorOutput"></p>

      <noscript>
        All the data on this page is populated by script. The source json isn't exactly readable as
        it is kept small.
      </noscript>

    </div>
  </body>
</html>
